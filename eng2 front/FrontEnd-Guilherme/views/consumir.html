<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ADAPV - Cores</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            carmesim: '#A6032F',
            areia: '#BCAF9E',
            noturno: '#0B1926',
            pastel: '#D9CAB8',
            neve: '#F2F2F2',
          },
        },
      },
    };
  </script>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="flex h-screen bg-neve font-sans text-noturno">

  <!-- Sidebar -->
  <script src="menu.js"></script>
  <!-- Conteúdo Principal -->
  <main class="flex-1 bg-neve p-10 overflow-auto">
    <section class="max-w-3xl mx-auto mt-10 bg-white p-8 rounded-lg shadow">
        <h2 class="text-2xl font-bold text-carmesim mb-6">Registrar Consumo de Doações</h2>
      
        <form id="formConsumo" class="grid md:grid-cols-2 gap-4">
      
          <!-- CATEGORIA -->
          <div class="md:col-span-2">
            <label class="block font-semibold mb-1">Tipo de Doação</label>
            <select id="tipo" class="w-full p-3 border border-gray-300 rounded-lg">
              <option value="">Selecione</option>
              <option value="racao">Ração</option>
              <option value="coberta">Coberta</option>
              <option value="remedio">Remédio</option>
            </select>
            <!-- Depois esses tipos podem vir do banco de dados-->
          </div>
      
          <!-- ITENS DINÂMICOS -->
          <div class="md:col-span-2">
            <label class="block font-semibold mb-1">Item Disponível</label>
            <select id="item" class="w-full p-3 border border-gray-300 rounded-lg" disabled>
              <option value="">Selecione o tipo primeiro</option>
            </select>
          </div>
      
          <!-- RESTANTE DO FORM -->
          <div>
            <label class="block font-semibold mb-1">Quantidade</label>
            <input id="quantidade" type="number" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 2">
          </div>
      
          <div>
            <label class="block font-semibold mb-1">Responsável</label>
            <input id="responsavel" type="text" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Fulano da ONG">
          </div>
      
          <div class="md:col-span-2">
            <label class="block font-semibold mb-1">Data</label>
            <input id="data" type="date" class="w-full p-3 border border-gray-300 rounded-lg">
          </div>
      
          <div class="md:col-span-2 text-right mt-4">
            <button type="submit" class="bg-carmesim text-white px-6 py-3 rounded-full font-semibold hover:bg-[#8a0128] transition-all">
              Registrar Consumo
            </button>
          </div>
        </form>
      </section>
      
      <script>
        const tipoSelect = document.getElementById("tipo");
        const itemSelect = document.getElementById("item");
      
        //Dados para simulação. Tudo deve ser substituido para trazer as info do banco
        const dados = {
          racao: ["Ração Bob Dog 10kg", "Ração filhote PetLove 5KG", "Ração Bob Dog especial + Vinaminas "],
          coberta: ["Cobertor simples", "Cobertor térmico", "Manta pet"],
          remedio: ["Vermífugo", "Antibiótico", "Vacina V10"]
        };
      
        tipoSelect.addEventListener("change", function () {
          const tipo = this.value;
          itemSelect.innerHTML = "";
      
          if (!tipo || !dados[tipo]) {
            itemSelect.disabled = true;
            itemSelect.innerHTML = `<option value="">Selecione o tipo primeiro</option>`;
            return;
          }
      
          itemSelect.disabled = false;
      
          dados[tipo].forEach(item => {
            const option = document.createElement("option");
            option.value = item;
            option.textContent = item;
            itemSelect.appendChild(option);
          });
        });
      
        // Validação e envio (simples)
        document.getElementById('formConsumo').addEventListener('submit', function (e) {
          e.preventDefault();
          const tipo = tipoSelect.value;
          const item = itemSelect.value;
          const qtd = document.getElementById('quantidade').value;
          const resp = document.getElementById('responsavel').value;
          const data = document.getElementById('data').value;
      
          if (!tipo || !item || !qtd || !resp || !data) {
            alert("Preencha todos os campos corretamente.");
            return;
          }
      
          alert(`Consumo de "${item}" registrado com sucesso!`);
          // Aqui você pode fazer um fetch() para o backend.
        });
      </script>
      
      
  </main>

  <script>

    // Mantém o createIcons global
    lucide.createIcons();
    
  </script>
</body>
</html>
